# 原型模式

see `Object#clone()`

# 构建者模式

## 模式定义
将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。
## 模式结构
- Builder：抽象建造者
- ConcreteBuilder：具体建造者
- Director：指挥者
- Product：产品角色
![UML](https://github.com/zyawei/Essay/blob/master/image/Builder.jpg?raw=true)
## 优点：
- 更加精细地控制产品的创建过程 
## 缺点
- 产品差异较大则不适合，使用范围有限，或者说只适用于某一类产品的创建。通用起来较麻烦

# 单例模式

## 模式定义
单例模式确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，它提供全局访问的方法。
- 某个类只能有一个实例
- 它必须自行创建这个实例
- 它必须自行向整个系统提供这个实例

## 模式结构
![UML](https://github.com/zyawei/Essay/blob/master/image/Singleton.jpg?raw=true)

## 缺点
- 违背单一职责原则，即充当了工厂类，又充当了产品类；
- 没有抽象层，扩展困难；
- 实例化的单例长期不用，系统将会回收，导致状态丢失；

## java中单例的实现方式

- 饿汉法

- 双重检查锁

  ```java
  volatile 关键字：
  1.可见性，一个线程中对该变量的修改会马上由工作内存写回主内存；
  2.禁止指令重排序优化（jdk1.5）
  ```

- 静态内部类法

- 枚举

  ```序列化安全```



