# 桥接模式

## 模式动机

对于有**两个变化维度（即两个变化的原因）**的系统，采用桥接模式来进行设计系统中类的个数更少，且系统扩展更为方便。设计方案二即是桥接模式的应用。桥接模式将继承关系转换为关联关系，从而降低了类与类之间的耦合，减少了代码编写量。

## 模式定义

桥接模式(Bridge Pattern)：**将抽象部分与它的实现部分分离，使它们都可以独立地变化。**

## 模式结构

桥接模式包含如下角色：

- Abstraction：抽象类
- RefinedAbstraction：扩充抽象类
- Implementor：实现类接口
- ConcreteImplementor：具体实现类

![Bridge](https://github.com/zyawei/Essay/blob/master/image/Bridge.jpg?raw=true)

## 模式分析

理解桥接模式，重点需要理解如何将抽象化(Abstraction)与实现化(Implementation)脱耦，使得二者可以独立地变化。

- 抽象化：抽象化就是忽略一些信息，把不同的实体当作同样的实体对待。在面向对象中，将对象的共同性质抽取出来形成类的过程即为抽象化的过程。
- 实现化：针对抽象化给出的具体实现，就是实现化，抽象化与实现化是一对互逆的概念，实现化产生的对象比抽象化更具体，是对抽象化事物的进一步具体化的产物。
- 脱耦：脱耦就是将抽象化和实现化之间的耦合解脱开，或者说是将它们之间的强关联改换成弱关联，将两个角色之间的继承关系改为关联关系。桥接模式中的所谓脱耦，就是指在一个软件系统的抽象化和实现化之间使用关联关系（组合或者聚合关系）而不是继承关系，从而使两者可以相对独立地变化，这就是桥接模式的用意。

## 缺点

- 桥接模式的引入会增加系统的理解与设计难度，由于聚合关联关系建立在抽象层，要求开发者针对抽象进行设计与编程。
-  桥接模式要求正确识别出系统中两个独立变化的维度，因此其使用范围具有一定的局限性。

## 模式扩展

适配器模式与桥接模式的联用:

桥接模式和适配器模式用于设计的不同阶段，**桥接模式用于系统的初步设计**，对于存在两个独立变化维度的类可以将其分为抽象化和实现化两个角色，使它们可以分别进行变化；而在初步设计完成之后，当发现系统与**已有类无法协同工作时，可以采用适配器模式**。但有时候在设计初期也需要考虑适配器模式，特别是那些涉及到大量第三方应用接口的情况。

## 实例

**Android AdapterView 与 Adapter:**

两个维度：

1，ItemView的变化（Adapter：适配器模式，1适配数据，2适配显示View >> 把不同的数据来源和显示方式变成可显示的单个View）

2，ItemView布局的变化（如何对显示进行布局）

ListView与GridView：视图排布方式不同

CursorAdapter与ArrayAdapter：数据来源及显示不同



从设计模式看RecycleView与ListView&GridView

1.AdapterView 是用桥接模式 将View的变化独立出去

2.RecycleView 将视图排布的变化也独立出去了

